---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { fullWeekSchedule, pdfScheduleUrl } from '../../data/program-schedule';

const DAYS = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
const DAY_ABBREV: Record<string, string> = { Sunday: "Sun", Monday: "Mon", Tuesday: "Tue", Wednesday: "Wed", Thursday: "Thu", Friday: "Fri", Saturday: "Sat" };
---

<BaseLayout title="Program Schedule" description="Current wART Radio program schedule. Check back often for new shows and volunteer contributions.">
	<section class="container schedule-page">
		<h1>Program Schedule</h1>
		<p>The wART program schedule changes regularly as new volunteers contribute new programs. Check back often to see what's new.</p>

		<div class="card">
			<p class="schedule-download"><a href={pdfScheduleUrl} target="_blank" rel="noopener noreferrer">Download PDF schedule (Program Log Dec 2025)</a></p>

			<table class="schedule-table schedule-calendar-table">
				<thead>
					<tr>
						<th class="time-col">Time</th>
						{DAYS.map((day) => (
							<th>{DAY_ABBREV[day]}</th>
						))}
					</tr>
				</thead>
				<tbody>
					{fullWeekSchedule.map(({ time, cells }) => (
						<tr>
							<td class="time-col">{time}</td>
							{DAYS.map((day) => (
								<td>
									{(cells[day] ?? []).map((show) => (
										<span class="show-name">{show}</span>
									))}
								</td>
							))}
						</tr>
					))}
				</tbody>
			</table>
		</div>

		<div class="listen-live">
			<h2>Listen Live</h2>
			<a href="http://station.voscast.com/5530050e0a38b/" class="listen-btn" target="_blank" rel="noopener noreferrer">Listen now</a>
		</div>
	</section>
</BaseLayout>
